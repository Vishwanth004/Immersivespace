@use "theme/src/screens";
@use "theme/src/layout";
@use "theme/src/text";
@use "web/core/src/css/components/modal-variables.module" as modal-variables;

/// Transition properties for transition effects on the modal
/// Will apply the transition to `$transition-property` for `$transition-duration`
/// using the timing function defined in `modal-variables`.
@function modalTransition($transition-property, $transition-duration: modal-variables.$transition-duration-long) {
  @return $transition-property $transition-duration modal-variables.$transition-timing-function;
}

// Base modal class, which is centered horizontally and vertically
.modal {
  transition: modalTransition($transition-property: transform),
    modalTransition($transition-property: opacity, $transition-duration: modal-variables.$transition-duration-short);
  transform: translate(-50%, -50%) scale(modal-variables.$scale-before-start);
  opacity: 0.75;
  position: absolute;
  top: 50%;
  left: 50%;

  // Remove blue accessibility outline. In the future, we can have a custom outline that is more in line with our design theme
  outline: none;
}

.modalAfterOpen {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

.modalBeforeClose {
  transform: translate(-50%, -50%) scale(modal-variables.$scale-before-close);
  opacity: 0.4;
}

// Modal that is not centered (not transformed)
.modalNoTranslate {
  transition: modalTransition($transition-property: transform), modalTransition($transition-property: opacity);
  transform: scale(modal-variables.$scale-before-start);
  opacity: 0.75;
  // Remove blue accessibility outline. In the future, we can have a custom outline that is more in line with our design theme
  outline: none;
}

.modalNoTranslateAfterOpen {
  transform: scale(1);
  opacity: 1;
}

.modalNoTranslateBeforeClose {
  transform: scale(modal-variables.$scale-before-close);
  opacity: 0.4;
}

.overlay {
  transition: modalTransition(
    $transition-property: opacity,
    $transition-duration: modal-variables.$transition-duration-short
  );
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: layout.$modal-z-index;
  opacity: 0;
}

.overlayDarkBg {
  composes: overlay;
  background-color: rgba(0, 0, 0, 0.5);
}

.overlayAfterOpen {
  opacity: 1;
}

.overlayBeforeClose {
  opacity: 0;
}

.body {
  background-color: #fff;
  border-radius: 12px;
  padding: 40px 60px;

  @media (max-width: screens.$md) {
    padding: 40px 40px;
  }
}
