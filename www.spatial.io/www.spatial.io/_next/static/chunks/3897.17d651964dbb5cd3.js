(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3897],{54073:function(e,t,n){var i=n(29259),r=n(61100),o=n(7642),a=Math.max,l=Math.min;e.exports=function(e,t,n){var s,c,u,m,d,f,p=0,y=!1,h=!1,b=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=s,i=c;return s=c=void 0,p=t,m=e.apply(i,n)}function j(e){var n=e-f,i=e-p;return void 0===f||n>=t||n<0||h&&i>=u}function _(){var e,n,i,o=r();if(j(o))return C(o);d=setTimeout(_,(e=o-f,n=o-p,i=t-e,h?l(i,u-n):i))}function C(e){return(d=void 0,b&&s)?v(e):(s=c=void 0,m)}function k(){var e,n=r(),i=j(n);if(s=arguments,c=this,f=n,i){if(void 0===d)return p=e=f,d=setTimeout(_,t),y?v(e):m;if(h)return clearTimeout(d),d=setTimeout(_,t),v(f)}return void 0===d&&(d=setTimeout(_,t)),m}return t=o(t)||0,i(n)&&(y=!!n.leading,u=(h="maxWait"in n)?a(o(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),k.cancel=function(){void 0!==d&&clearTimeout(d),p=0,s=f=c=d=void 0},k.flush=function(){return void 0===d?m:C(r())},k}},61100:function(e,t,n){var i=n(37772);e.exports=function(){return i.Date.now()}},93700:function(e,t,n){"use strict";n.d(t,{h:function(){return f}});var i=n(95235),r=n(25291),o=n.n(r),a=n(2784),l=n(1366),s=n(10381),c=n(52322);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}let m=(0,a.lazy)(()=>Promise.all([n.e(4741),n.e(9414)]).then(n.bind(n,99414)).then(e=>({default:e.default}))),d=o()(async()=>(await n.e(3922).then(n.t.bind(n,72126,19))).default),f=e=>(0,c.jsx)(a.Suspense,{fallback:null,children:(0,c.jsx)(l.Op,{as:"div",id:s.C.EmojiPicker,children:(0,c.jsx)(m,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({data:async()=>{let e=await d();return e}},e))})})},77442:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(2784),r=n(25688),o=n(52322);let a=e=>{let{animation:t,className:n,shouldPlay:a,controlledPlayback:l}=e,s=(0,i.useCallback)(e=>{(!l||l&&a)&&e.play()},[l,a]),c=(0,i.useCallback)(e=>{(0,r.G6)(navigator.userAgent)||l&&(!l||a)||(e.pause(),e.currentTime=0)},[l,a]),u=(0,i.useRef)(null);return((0,i.useEffect)(()=>{void 0!==a&&u.current&&(a?s(u.current):c(u.current))},[c,s,a]),(0,r.G6)(navigator.userAgent))?(0,o.jsx)("video",{className:n,disableRemotePlayback:!0,disablePictureInPicture:!0,muted:!0,playsInline:!0,ref:u,onMouseEnter:e=>s(e.currentTarget),children:(0,o.jsx)("source",{src:t.videoThumbnail+".mov",type:"video/mp4;codec=hvc1"})}):(0,o.jsx)("video",{className:n,disableRemotePlayback:!0,disablePictureInPicture:!0,loop:!0,muted:!0,playsInline:!0,ref:u,onMouseEnter:e=>s(e.currentTarget),onMouseLeave:e=>c(e.currentTarget),children:(0,o.jsx)("source",{src:t.videoThumbnail+".webm",type:"video/webm"})})}},43897:function(e,t,n){"use strict";n.r(t),n.d(t,{EmotesTrayContainer:function(){return eE}});var i,r,o,a,l,s,c,u,m,d=n(95235),f=n(82269),p=n(2689),y=n.n(p),h=n(54073),b=n.n(h),v=n(6277),j=n(93556),_=n(25925),C=n(2784),k=n(66855),g=n(64834),x=n(14420),O=n(1366),w=n(10381),N=n(17905),E=n(13588),P=n(42793),L=n(96441),H=n(39337),S=n(38776),B=n(57655),V=["title","titleId"];function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var M=(0,C.forwardRef)(function(e,t){var n=e.title,i=e.titleId,r=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,V);return C.createElement("svg",Z({width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?C.createElement("title",{id:i},n):null,o||(o=C.createElement("g",{clipPath:"url(#clip0_234_20731)"},C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99978 18.7519V21.1522C4.01562 19.4296 2.01562 16.2069 2.01562 12.5001C2.01562 10.6957 2.48949 9.00613 3.32007 7.54839L4.78727 9.01558C4.27323 10.0709 3.98438 11.2536 3.98438 12.5001C3.98438 15.02 5.16487 17.2793 6.99978 18.7519ZM5.99978 4.50854C5.98785 4.5175 5.97593 4.52649 5.96404 4.5355L5.99978 4.57124V4.50854Z",fill:"white"}),C.createElement("path",{d:"M15.8906 8.60938L20.3438 13.1094L18.9375 14.5156L15 10.5312V22.4844H12.9844V16.4844H11.0156V22.4844H9V9.21875C7.53125 8.78125 6.32812 7.95312 5.39062 6.73438C4.45312 5.48437 3.98438 4.07812 3.98438 2.51562H6C6 3.89062 6.48438 5.0625 7.45312 6.03125C8.42188 7 9.59375 7.48438 10.9688 7.48438H13.5469C14.3594 7.48438 15.1406 7.85938 15.8906 8.60938ZM10.5469 5.9375C10.1719 5.53125 9.98438 5.04688 9.98438 4.48438C9.98438 3.92188 10.1719 3.45312 10.5469 3.07812C10.9531 2.70312 11.4375 2.51562 12 2.51562C12.5625 2.51562 13.0312 2.70312 13.4062 3.07812C13.8125 3.45312 14.0156 3.92188 14.0156 4.48438C14.0156 5.04688 13.8125 5.53125 13.4062 5.9375C13.0312 6.3125 12.5625 6.5 12 6.5C11.4375 6.5 10.9531 6.3125 10.5469 5.9375Z",fill:"white"}))),a||(a=C.createElement("path",{d:"M23.3281 5.07812H23.5781V4.82812V4.17188V3.92188H23.3281H21.5781V2.17188V1.92188H21.3281H20.6719H20.4219V2.17188V3.92188H18.6719H18.4219V4.17188V4.82812V5.07812H18.6719H20.4219V6.82812V7.07812H20.6719H21.3281H21.5781V6.82812V5.07812H23.3281Z",fill:"white",stroke:"white",strokeWidth:.5})),l||(l=C.createElement("defs",null,C.createElement("clipPath",{id:"clip0_234_20731"},C.createElement("rect",{width:24,height:24,fill:"white",transform:"translate(0 0.5)"})))))}),T=["title","titleId"];function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var I=(0,C.forwardRef)(function(e,t){var n=e.title,i=e.titleId,r=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,T);return C.createElement("svg",A({width:29,height:24,viewBox:"0 0 29 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?C.createElement("title",{id:i},n):null,s||(s=C.createElement("path",{d:"M19.4367 20.9342L20.4101 20.5658C20.4916 20.6128 20.4916 20.6128 20.5731 20.6599L20.7408 21.6871C20.7512 21.8573 20.9313 22.016 21.1417 22.028L22.8316 22.0186C23.0013 22.0071 23.1539 21.931 23.225 21.8079C23.2487 21.7668 23.2317 21.7022 23.2554 21.6612L23.4033 20.652C23.4914 20.5934 23.4914 20.5934 23.5796 20.5349L24.5473 20.9294C24.734 20.9824 24.9511 20.8888 25.0459 20.7246L25.899 19.2469C26.0175 19.0417 25.9663 18.848 25.827 18.7128L25.0423 18.0955C25.0252 18.031 25.0252 18.031 25.0082 17.9664C25.0319 17.9253 25.0319 17.9253 25.0148 17.8608L25.8148 17.228C25.8793 17.2105 25.903 17.1695 25.9267 17.1284C25.9978 17.0053 25.9874 16.8351 25.9532 16.7059L25.0757 15.2141C24.9601 15.0379 24.7734 14.9849 24.58 15.0374L23.6473 15.4293C23.5658 15.3823 23.5251 15.3587 23.4435 15.3117L23.2759 14.2845C23.2655 14.1143 23.0854 13.9556 22.9157 13.9671L21.185 13.953C21.0154 13.9645 20.9035 14.0641 20.8324 14.1873C20.8087 14.2283 20.785 14.2694 20.7613 14.3104L20.6134 15.3196C20.5252 15.3782 20.5015 15.4192 20.4371 15.4367L19.4457 15.0833C19.2827 14.9891 19.0656 15.0827 18.9708 15.2469L18.094 16.7657C17.9992 16.9299 18.0503 17.1236 18.1896 17.2588L19.0151 17.8996C18.9914 17.9406 19.0085 18.0052 19.0085 18.0052C18.9848 18.0462 19.0018 18.1108 19.0018 18.1108L18.1781 18.7846C18.1544 18.8256 18.09 18.8431 18.0663 18.8842C17.9952 19.0073 18.0056 19.1775 18.1042 19.2892L18.941 20.7574C19.0329 20.9747 19.2604 21.0513 19.4367 20.9342ZM20.7042 17.2328C21.1308 16.494 22.0331 16.2487 22.7667 16.6723C23.5003 17.0958 23.739 17.9999 23.3125 18.7387C22.8859 19.4776 21.9835 19.7228 21.25 19.2993C20.5164 18.8758 20.2776 17.9717 20.7042 17.2328Z",fill:"white"})),c||(c=C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4167 2.55127H4.71753C3.59448 2.55127 2.66675 3.52783 2.66675 4.65088V17.1509C2.66675 18.2739 3.59448 19.2505 4.71753 19.2505H16V17.1509H4.71753V4.65088H21.4167V12H23.4675V4.65088C23.4675 3.52783 22.5398 2.55127 21.4167 2.55127ZM7.30542 9.33838V14.0259H8.52612V7.77588H7.59839L5.79175 9.09424L6.37769 10.022L7.30542 9.33838ZM12.53 8.8501C13.0183 8.8501 13.3601 9.19189 13.3601 9.63135C13.3601 10.022 13.2136 10.2661 12.7742 10.7056C12.4324 11.0962 11.7 11.8286 10.5769 12.9517V14.0259H14.6296V13.0005H12.1394V12.9517C12.823 12.2192 13.3113 11.731 13.6042 11.4868C14.239 10.8521 14.532 10.2173 14.532 9.53369C14.532 9.28955 14.4832 8.45947 13.6042 8.02002C13.116 7.77588 12.2859 7.62939 11.5535 7.97119C10.7234 8.41064 10.5281 9.14307 10.5281 9.19189L11.5535 9.63135C11.7 9.28955 11.9929 8.8501 12.53 8.8501ZM18.2429 12.9028C17.4128 12.9028 17.2175 12.1216 17.2175 12.0239L16.1433 12.4634C16.5828 14.1235 18.2429 14.0259 18.2429 14.0259C19.5125 14.0259 20.0007 13.2935 20.0984 13.147C20.4402 12.6099 20.489 11.8286 20.0984 11.2915C19.9031 11.0474 19.6589 10.9009 19.366 10.7544V10.7056C19.6101 10.6079 19.7566 10.4126 19.9031 10.1685C20.196 9.77783 20.2449 9.09424 19.9031 8.55713C19.893 8.54703 19.8792 8.53068 19.8614 8.50946C19.7067 8.32545 19.2448 7.77588 18.1941 7.77588C16.9246 7.77588 16.3875 8.70361 16.2898 9.04541L17.3152 9.48486C17.4128 9.14307 17.7058 8.8501 18.1941 8.8501C18.6824 8.8501 18.9753 9.09424 18.9753 9.48486C18.9753 10.1196 18.3894 10.2661 18.0476 10.2661H17.6082V11.2915H18.0964C18.6824 11.2915 19.1707 11.5356 19.1707 12.1216C19.1707 12.6099 18.6824 12.9028 18.2429 12.9028Z",fill:"white"})))}),D=n(87957),R=n(77442),z=n(5224),F=n.n(z),U=n(52322);let J=(0,C.memo)(function(e){let{animation:t,imageClassName:n,videoClassName:i,fallbackClassName:r,controlledVideoPlayback:o,shouldPlayVideo:a}=e,[l,s]=(0,E.k)(!0);if(t.videoThumbnail)return(0,U.jsx)(R.Z,{animation:t,className:null!=i?i:(0,v.Z)(F().thumbnail,F().video),controlledPlayback:o,shouldPlay:a});let c=null!=r?r:(0,v.Z)(F().thumbnail,F().fallback);return t.thumbnail?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("img",{alt:t.name,src:t.thumbnail,className:(0,v.Z)(null!=n?n:(0,v.Z)(F().thumbnail,F().image),l&&F().hide),onError:s.setTrue,onLoad:s.setFalse}),l&&(0,U.jsx)(D.r,{className:c})]}):(0,U.jsx)(D.r,{className:c})});var K=n(93700),G=n(32982),X=n(32082),q=n(33159),Y=n(65170),W=n.n(Y);let Q=(0,C.memo)(function(e){let{unlockableData:t}=e,n=t.unlocked,i=1===t.cost;return(0,U.jsx)("div",{className:(0,v.Z)(W().unlockableLabel,i&&!n&&W().canUnlock),children:n?"Unlocked":i?"Unlock Now!":(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(q.r,{className:W().lockIcon}),t.cost," Days"]})})}),$=(0,C.memo)(function(e){var t;let{animation:n,handleSelect:i}=e,r=(null===(t=n.unlockableData)||void 0===t?void 0:t.unlocked)===!1;return(0,U.jsxs)("button",{className:(0,v.Z)(W().container,r&&W().locked),onClick:()=>i(n),children:[n.unlockableData&&(0,U.jsx)(Q,{unlockableData:n.unlockableData}),(0,U.jsx)(J,{animation:n}),(0,U.jsx)("div",{className:W().title,children:n.name})]})});var ee=n(20041),et=n(75918),en=n(54537),ei=n(59654),er=n(5131),eo=n.n(er);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,d.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let es=(0,C.memo)(function(e){let{handleSelect:t}=e,{data:n,isError:i}=(0,P.YM)(en.CP),{data:r,isError:o}=(0,G.cE)(X.ZP.PUBLIC_ASSETS_BASE_URL),a=(0,et.P)(r),l=(0,C.useMemo)(()=>{if(!n||!a)return null;let e=(0,ee.nZ)(n.avatarAnimations);return e.map(e=>el(el({},e),{},{unlockableData:a[e.id]}))},[n,a]);return(0,U.jsx)(O.Op,{className:eo().container,as:"div",id:w.C.AnimationsPicker,children:l?(0,U.jsx)("div",{className:eo().grid,children:l.filter(e=>e.shownInMenu).map(e=>(0,U.jsx)($,{animation:e,handleSelect:()=>{t(e)}},e.id))}):i||o?(0,U.jsx)("div",{children:"Sorry, something went wrong."}):(0,U.jsx)(ei.a,{color:"black",variant:"fancy"})})});var ec=n(39197),eu=n(67321),em=n.n(eu);(i=u||(u={})).Emojis="Emojis",i.Animations="Animations";let ed=e=>{let{handleSelect:t}=e,{0:n,1:i}=(0,C.useState)(ec.K.fetch(ec.K.LAST_USED_EMOTE_PANEL_TAB,u.Animations)),r=(0,C.useCallback)(e=>{t({id:e.unified,displayEmoji:e.native})},[t]);return(0,C.useEffect)(()=>{ec.K.setItem(ec.K.LAST_USED_EMOTE_PANEL_TAB,n)},[n]),(0,U.jsxs)(O.Op,{className:em().container,as:"div",id:w.C.EmotesPicker,children:[(0,U.jsxs)("div",{className:em().buttonTray,children:[(0,U.jsx)("button",{title:"Animations",onClick:()=>i(u.Animations),className:(0,v.Z)(em().tabButton,n===u.Animations&&em().selectedButton),children:"Animations"}),(0,U.jsx)("button",{title:"Emojis",onClick:()=>i(u.Emojis),className:(0,v.Z)(em().tabButton,n===u.Emojis&&em().selectedButton),children:"Emojis"})]}),n===u.Emojis?(0,U.jsx)(K.h,{onEmojiSelect:r,theme:"light",navPosition:"bottom",previewPosition:"none",perLine:10}):(0,U.jsx)(es,{handleSelect:t})]})};var ef=n(98637),ep=n(4630),ey=n(28353),eh=n.n(ey);let eb=["emote","onClick"],ev=["emote","hotkeyNumber","isSelected","shouldPulse","handleSelectHotkey","onAnimationStart"],ej=["isOpen"];function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(t){(0,d.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ek=(0,j.m)(I),eg=(0,j.m)(k.r),ex=y()(1,6),eO={emoteType:x.ee.Animation,identifier:"wave"};(r=m||(m={}))[r.AllReactions=0]="AllReactions",r[r.CustomizeHotkeys=1]="CustomizeHotkeys",r[r.None=2]="None";let ew=(0,C.forwardRef)(function(e,t){let{emote:n,onClick:i}=e,r=(0,f.Z)(e,eb),o=()=>i(n);return(0,ee.nB)(n)?(0,U.jsx)(j.m.button,eC(eC({ref:t},r),{},{onClick:o,className:(0,v.Z)(eh().trayButton,eh().emojiButton),children:n.displayEmoji})):(0,U.jsxs)(j.m.button,eC(eC({ref:t},r),{},{onClick:o,className:(0,v.Z)("tooltip-host",eh().trayButton),children:[(0,U.jsx)("span",{className:(0,v.Z)("tooltip-text","tooltip-text--top",eh().tooltip),children:n.name}),(0,U.jsx)(J,{animation:n,videoClassName:eh().trayVideo,imageClassName:eh().trayImage,fallbackClassName:eh().trayImage})]}))}),eN=function(e){let{emote:t,hotkeyNumber:n,isSelected:i,shouldPulse:r,handleSelectHotkey:o,onAnimationStart:a}=e,l=(0,f.Z)(e,ev),s=(0,C.useRef)(null),[c,u]=(0,E.k)(!1),m=(0,C.useMemo)(()=>c||i,[c,i]);return(0,C.useEffect)(()=>{s.current&&(m?s.current.play():(s.current.currentTime=0,s.current.pause()))},[m]),(0,U.jsxs)(j.m.button,eC(eC({className:(0,v.Z)("tooltip-host",eh().trayButton,eh().hotkeyButton),onClick:()=>o(n),onHoverStart:u.setTrue,onHoverEnd:u.setFalse},l),{},{children:[(0,U.jsx)("span",{className:(0,v.Z)(eh().hotkeyNumber,(i||r)&&eh().pulsing),onAnimationStart:a,children:n}),!(0,ee.nB)(t)&&(0,U.jsx)("span",{className:(0,v.Z)("tooltip-text tooltip-text--top",eh().tooltip),children:t.name}),(0,ee.nB)(t)?(0,U.jsx)("span",{className:eh().hotkeyButtonIcon,children:t.displayEmoji},t.id):(0,U.jsx)("span",{className:eh().hotkeyButtonIcon,children:(0,U.jsx)(J,{animation:t,shouldPlayVideo:m,controlledVideoPlayback:!0,videoClassName:eh().trayVideo,imageClassName:eh().trayImage,fallbackClassName:eh().trayImage})},t.id)]}))},eE=(0,C.forwardRef)(function(e,t){let{isOpen:n}=e,i=(0,f.Z)(e,ej);return(0,U.jsx)(_.M,{children:n&&(0,U.jsx)(O.z3,{id:w.C.EmotesTray,children:(0,U.jsx)(j.m.div,{ref:t,className:eh().container,transition:{duration:.17},style:{transformOrigin:"50% 100% 0"},initial:{opacity:.5,rotateX:-90},animate:{opacity:1,rotateX:0},exit:{opacity:.5,rotateX:-90},children:(0,U.jsx)(eS,eC({},i))})})})}),eP={delay:.09,type:"spring",stiffness:180,damping:24},eL={initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{delay:.3,type:"spring",stiffness:100,damping:12}},exit:{opacity:0,scale:0,transition:{delay:0,type:"spring",stiffness:100,damping:12}}},eH={visible:{opacity:1,transition:{delay:.3}},invisible:{opacity:0,transition:{delay:.2}}},eS=(0,C.memo)(function(e){let{handleAuthlessUpsell:t}=e,{0:n,1:i}=(0,C.useState)(m.None),{0:r,1:o}=(0,C.useState)(null),[a,l]=(0,E.k)(!1),s=(0,O.XW)(),{data:c,isInitialLoading:u,isError:d}=(0,P.YM)(en.CP),f=(0,S.bp)(e=>e.actions),p=(0,C.useCallback)(()=>f.openModal({type:B.c3.UnlockableDanceStreak}),[f]),y=f.focusUnity,{user:h}=(0,ef.aF)(),k=(0,et.N)(),{isAuthless:x}=(0,S.F_)(),V=(0,L.H6)(en.zt),Z=(0,L.I8)(en.zt),{keybinds:T}=h,A=(0,C.useMemo)(()=>u||d?[]:(0,ee.nZ)(c.avatarAnimations),[u,d,c]),I=(0,C.useMemo)(()=>u||d?[]:h.recentEmotes.map(e=>(0,ee.pu)(e,A)),[u,d,h.recentEmotes,A]),D=(0,C.useCallback)(e=>{n===e?i(m.None):i(e),e!==m.AllReactions&&l.setTrue(),y()},[y,n,l]),R=(0,C.useCallback)((e,t)=>{y(),(0,ee.BL)(e,{method:H.JT.Click,source:t});let n=(0,ee.rP)(e);h.recentEmotes.slice(0,5).some(e=>e.identifier===n.identifier)||V.mutate({userId:h.id,recentEmotes:[n].concat([...h.recentEmotes].slice(0,-1))})},[y,V,h.id,h.recentEmotes]),z=(0,C.useCallback)(e=>{if(r===e){o(null);return}o(e)},[r]),F=(0,C.useCallback)(e=>{if(!(0,ee.nB)(e)){var t;if((null===(t=e.unlockableData)||void 0===t?void 0:t.unlocked)===!1){p(),i(m.None),k||s({name:N.A.StartDanceStreak,type:N.s.Click});return}}if(n===m.AllReactions)R(e,w.C.EmotesPicker),i(m.None);else if(n===m.CustomizeHotkeys){let t=(0,ep.x)(r),n=(0,ee.rP)(e),i={action:{type:g.dd.Emote,payload:n}};Z.mutate({userId:h.id,keybinds:eC(eC({},T),{},{[t]:i,[`shift+${t}`]:i})}),o(null)}},[r,T,n,p,R,s,Z,h.id,k]);(0,C.useEffect)(()=>{n===m.None&&o(null)},[n]);let J=(0,C.useMemo)(()=>b()(e=>{let t=document.querySelectorAll(`.${eh().hotkeyNumber}`),n=eB(e.target,e.animationName).startTime;for(let i of t){let t=eB(i,e.animationName);t&&(t.startTime=n)}},1),[]);if(u)return(0,U.jsx)("div",{className:eh().errorMessage,children:"Loading emotes..."});if(d)return(0,U.jsx)("div",{className:eh().errorMessage,children:"Sorry, something went wrong."});let K=n===m.CustomizeHotkeys,G=x?t:()=>D(K?m.None:m.CustomizeHotkeys);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(j.m.button,{onClick:G,className:(0,v.Z)("tooltip-host",eh().trayButton,eh().trigger),initial:!1,animate:{x:K?4:310,y:"-50%"},transition:eP,onAnimationComplete:l.setFalse,children:[!K&&!a&&(0,U.jsx)("span",{className:(0,v.Z)("tooltip-text tooltip-text--top",eh().tooltip),children:"Edit Hotkeys"}),(0,U.jsx)(ek,{variants:eH,animate:K?"invisible":"visible"}),(0,U.jsx)(eg,{variants:eH,initial:"invisible",animate:K?"visible":"invisible"})]}),(0,U.jsx)("div",{className:eh().grid,children:(0,U.jsx)(_.M,{initial:!1,children:!K&&(0,U.jsxs)(U.Fragment,{children:[I.slice(0,5).map(e=>(0,U.jsx)(ew,eC({emote:e,onClick:e=>R(e,w.C.EmotesTray),layout:!0},eL),e.id)),(0,U.jsx)(j.m.div,eC({className:eh().divider},eL)),(0,U.jsxs)(j.m.button,eC(eC({onClick:()=>x?t():D(m.AllReactions),className:(0,v.Z)("tooltip-host",eh().trayButton)},eL),{},{children:[(0,U.jsx)("span",{className:(0,v.Z)("tooltip-text tooltip-text--top",eh().tooltip),children:"All Reactions"}),(0,U.jsx)(M,{})]})),(0,U.jsx)("div",{className:eh().trayButton})]})})}),(0,U.jsx)("div",{className:eh().grid,children:(0,U.jsx)(_.M,{children:K&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:eh().trayButton}),(0,U.jsx)(j.m.div,eC(eC({className:eh().trayLabel},eL),{},{children:"Hotkeys"})),(0,U.jsx)(j.m.div,eC({className:eh().divider},eL)),ex.map(e=>{let t=(0,ep.x)(e),n=(0,ee.pu)(T[t].action.payload||eO,A);return(0,U.jsx)(eN,eC(eC({emote:n,hotkeyNumber:e,handleSelectHotkey:z,isSelected:r===e,shouldPulse:null===r},eL),{},{onAnimationStart:J}),e)})]})})}),n===m.None||n===m.CustomizeHotkeys&&null==r?null:(0,U.jsx)("div",{className:eh().emotesPicker,children:(0,U.jsx)(ed,{handleSelect:F})})]})});function eB(e,t){let n=e.getAnimations();return n.find(e=>e.animationName===t)}},4322:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});let i="DanceStreak"},75918:function(e,t,n){"use strict";n.d(t,{N:function(){return a},P:function(){return l}});var i=n(2784),r=n(4322),o=n(98637);let a=()=>{let e=(0,o.aF)().user.unlockables;return(0,i.useMemo)(()=>{if(!e)return null;let t={},n=e[r.R];if(!n)return t;for(let e of n.unlocks)for(let n of e.ids)t[n]=e;return t},[e])},l=e=>{let t=a();return(0,i.useMemo)(()=>{if(!e)return null;let n={},i=e[r.R];if(!i)return n;for(let e of i.lockedItems)for(let i of e.ids)n[i]=e,t?t[i]&&(n[i].read=t[i].read,n[i].unlocked=t[i].unlocked):(n[i].read=!0,n[i].unlocked=!1);return n},[e,t])}},5224:function(e){e.exports={thumbnail:"animation-preview-thumbnail_thumbnail__nYfyR",video:"animation-preview-thumbnail_video__2NJhG",image:"animation-preview-thumbnail_image__2bqfY",fallback:"animation-preview-thumbnail_fallback__IJmc5",hide:"animation-preview-thumbnail_hide__bfxbg"}},65170:function(e){e.exports={title:"animation-preview_title__XHSty",container:"animation-preview_container___6SCU",unlockableLabel:"animation-preview_unlockableLabel__K37a_",video:"animation-preview_video__fbJ86",canUnlock:"animation-preview_canUnlock__DpjzH",lockIcon:"animation-preview_lockIcon__2jGO7",locked:"animation-preview_locked__VCP1Y"}},5131:function(e){e.exports={container:"animations-picker_container__JK9RG",grid:"animations-picker_grid__cQBfh"}},67321:function(e){e.exports={container:"emotes-picker_container__G70Qo",buttonTray:"emotes-picker_buttonTray__VeqPe",tabButton:"emotes-picker_tabButton__gdZmc",selectedButton:"emotes-picker_selectedButton__LgXz8"}},28353:function(e){e.exports={container:"emotes-tray-contents_container__9vwdN",trigger:"emotes-tray-contents_trigger__KPjhL",grid:"emotes-tray-contents_grid__6b51x",emotesPicker:"emotes-tray-contents_emotesPicker__5UJly",divider:"emotes-tray-contents_divider__dCO5t",trayButton:"emotes-tray-contents_trayButton__GdN0v",tooltip:"emotes-tray-contents_tooltip__B7x_P",whiteBackground:"emotes-tray-contents_whiteBackground__iAeC8",trayLabel:"emotes-tray-contents_trayLabel__fnC2T",hotkeyButton:"emotes-tray-contents_hotkeyButton__jO7Ma",hotkeyNumber:"emotes-tray-contents_hotkeyNumber__FPSJP",pulsing:"emotes-tray-contents_pulsing__td6ou",pulse:"emotes-tray-contents_pulse__KKhqJ",hotkeyButtonIcon:"emotes-tray-contents_hotkeyButtonIcon__qXCgw",emojiButton:"emotes-tray-contents_emojiButton__Mwibc",trayVideo:"emotes-tray-contents_trayVideo__j9wzs",trayImage:"emotes-tray-contents_trayImage__MFD3f",errorMessage:"emotes-tray-contents_errorMessage__lRjVJ"}}}]);
//# sourceMappingURL=3897.17d651964dbb5cd3.js.map                                                                 