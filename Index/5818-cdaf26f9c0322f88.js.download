(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5818],{50217:function(e){e.exports=function(e){return e.split("")}},39872:function(e){e.exports=function(e,r,o){var n=-1,i=e.length;r<0&&(r=-r>i?0:i+r),(o=o>i?i:o)<0&&(o+=i),i=r>o?0:o-r>>>0,r>>>=0;for(var t=Array(i);++n<i;)t[n]=e[n+r];return t}},23895:function(e,r,o){var n=o(39872);e.exports=function(e,r,o){var i=e.length;return o=void 0===o?i:o,!r&&o>=i?e:n(e,r,o)}},83126:function(e,r,o){var n=o(23895),i=o(33880),t=o(8435),a=o(66188);e.exports=function(e){return function(r){var o=i(r=a(r))?t(r):void 0,l=o?o[0]:r.charAt(0),s=o?n(o,1).join(""):r.slice(1);return l[e]()+s}}},33880:function(e){var r=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},8435:function(e,r,o){var n=o(50217),i=o(33880),t=o(63344);e.exports=function(e){return i(e)?t(e):n(e)}},63344:function(e){var r="\ud800-\udfff",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\ud83c[\udffb-\udfff]",i="[^"+r+"]",t="(?:\ud83c[\udde6-\uddff]){2}",a="[\ud800-\udbff][\udc00-\udfff]",l="(?:"+o+"|"+n+")?",s="[\\ufe0e\\ufe0f]?",u="(?:\\u200d(?:"+[i,t,a].join("|")+")"+s+l+")*",f=RegExp(n+"(?="+n+")|(?:"+[i+o+"?",o,t,a,"["+r+"]"].join("|")+")"+(s+l+u),"g");e.exports=function(e){return e.match(f)||[]}},74345:function(e,r,o){var n=o(83126)("toLowerCase");e.exports=n},5818:function(e,r,o){"use strict";o.d(r,{O:function(){return q}});var n=o(95235),i=o(74345),t=o.n(i),a=o(39097),l=o.n(a),s=o(2784),u=o(72243),f=o(35733),m=o(73940),d=o(1366),c=o(17905),p=o(96441),_=o(54630),b=o(8239),h=o(79991),v=o(71594),I=o(6277),x=o(16810),y=o(13588),g=o(13531),j=o.n(g),C=o(52322);function k(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,n)}return o}function N(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?k(Object(o),!0).forEach(function(r){(0,n.Z)(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):k(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}let O=(0,s.memo)(function(e){let{label:r,required:o,error:n,errorMessage:i}=e,[t,a]=(0,y.k)(!1);return(0,C.jsxs)("div",{className:(0,I.Z)(j().formItemLabelContainer),children:[(0,C.jsx)("div",{className:(0,I.Z)(o&&j().required),children:r}),n&&(0,C.jsx)("div",{className:j().errorIcon,onClick:()=>{t||(v.error(i,5e3),a.setTrue(),setTimeout(a.setFalse,4e3))},children:(0,C.jsx)(x.r,{className:"icon icon-sm"})})]})}),P=(0,s.memo)(function(e){let{children:r,isCurrent:o,disabled:n,error:i,inputRef:t,index:a,outOf:l}=e;return(0,C.jsx)("div",{onClick:()=>{t.current.focus()},className:(0,I.Z)(j().formItem,n&&j().disabled,(o||i)&&j().active,!i&&o&&j().current,i&&!o&&j().error,i&&o&&j().focusError,0===a&&j().topItem,a===l-1&&j().bottomItem,a>0&&a<l-1&&j().middleItem),children:r})}),L=(0,s.memo)(function(e){let{placeholder:r,disabled:o,value:n,required:i,minLength:t,maxLength:a,onChange:l}=e,[u,f]=(0,y.k)(!1),m=(0,s.useRef)();return(0,C.jsxs)(P,N(N({},e),{},{inputRef:m,isCurrent:u,children:[(0,C.jsx)(O,N({},e)),(0,C.jsx)("input",{ref:m,className:j().formItemInput,placeholder:r,type:"text",disabled:o,required:i,onFocus:f.setTrue,onBlur:f.setFalse,onChange:l,value:n,minLength:t,maxLength:a})]}))}),w=(0,s.memo)(function(e){var r;let{placeholder:o,disabled:n,rows:i,value:t,required:a,minLength:l,maxLength:u,onChange:f}=e,[m,d]=(0,y.k)(!1),c=(0,s.useRef)();return(0,C.jsx)("div",{className:j().aboutContainer,children:(0,C.jsxs)(P,N(N({},e),{},{inputRef:c,isCurrent:m,children:[(0,C.jsx)(O,N({},e)),(0,C.jsx)("textarea",{ref:c,className:j().formItemInput,placeholder:o,disabled:n,required:a,rows:i,onFocus:d.setTrue,onBlur:d.setFalse,onChange:f,value:t,minLength:l,maxLength:u}),(0,C.jsxs)("div",{className:j().aboutCharacterCountLabel,children:[null===(r=c.current)||void 0===r?void 0:r.textLength," / ",u]})]}))})});var E=o(54537),S=o(43186),D=o(78025),T=o(86358),M=o.n(T);function R(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,n)}return o}function A(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?R(Object(o),!0).forEach(function(r){(0,n.Z)(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}let G=(0,s.memo)(function(e){var r,o,n;let{onSave:i,onCancel:t,isSaving:a,fieldErrors:f}=e,{0:p,1:_}=(0,s.useState)(e.profile),{appearanceCustomization:{profileColor:v}}=p,I=(0,m.v0)(v),x=(0,d.XW)(),y=(0,s.useCallback)(e=>{_(r=>A(A({},r),e))},[_]),g=(0,s.useCallback)(e=>r=>{y({[e]:r.target.value})},[y]),j=(0,s.useCallback)(e=>{y({about:e.target.value.replaceAll(/[\r\n]+/g,"")})},[y]),k=(0,s.useCallback)(e=>{e.preventDefault(),i(p)},[i,p]),N=(0,s.useCallback)(()=>{x({name:c.A.ProfilePageEditAvatar,type:c.s.Click})},[x]),O=[{name:"Discord",key:"usernameDiscord",placeholder:"username#1234"},{name:"Twitter",key:"usernameTwitter",placeholder:"@username"},{name:"Instagram",key:"usernameInstagram",placeholder:"@username"},{name:"Opensea",key:"usernameOpensea",placeholder:"@username"},{name:"LinkedIn",key:"usernameLinkedin",placeholder:"@username"},{name:"TikTok",key:"usernameTiktok",placeholder:"@username"},{name:"Personal Website",key:"linkWebsite",placeholder:"https://website.com"}];return(0,C.jsx)("form",{className:M().form,onSubmit:k,children:(0,C.jsxs)("div",{className:M().container,children:[(0,C.jsxs)("div",{className:M().inputContainer,children:[(0,C.jsxs)(l(),{href:"/profile/avatar",className:M().profilePicAndEditContainer,onClick:N,target:"_blank",rel:"noopener",children:[(0,C.jsx)("div",{className:M().profilePicContainer,children:(0,C.jsx)(b.f,{profilePicUrl:p.avatarImageURL,loadingPlaceholder:(0,C.jsx)(h.Z,{displayName:p.displayName,className:M().avatarIconPlaceholder}),placeholder:(0,C.jsx)(h.Z,{displayName:p.displayName,className:M().avatarIconPlaceholder}),applyPlayerColorToPlaceholder:!0,playerColor:I,altText:`${p.displayName}'s avatar`})}),(0,C.jsx)("div",{className:M().editIcon,children:(0,C.jsx)(u.r,{className:"icon icon-sm"})})]}),(0,C.jsxs)("div",{className:M().profileBody,children:[(0,C.jsx)("div",{className:M().profileInfoGroup,children:(0,C.jsxs)("div",{className:M().profileInfoSection,children:[(0,C.jsx)(L,{index:0,outOf:3,label:"Name",placeholder:"Name",onChange:g("displayName"),value:p.displayName,required:!0,maxLength:50,error:-1!==f.findIndex(e=>"displayName"===e.field),errorMessage:null===(r=f.find(e=>"displayName"===e.field))||void 0===r?void 0:r.error}),(0,C.jsx)(L,{index:1,outOf:3,label:"Username",placeholder:"TheRealSpatian",onChange:g("username"),value:p.username,required:!0,minLength:2,maxLength:50,error:-1!==f.findIndex(e=>"username"===e.field),errorMessage:null===(o=f.find(e=>"username"===e.field))||void 0===o?void 0:o.error}),(0,C.jsx)(w,{index:2,outOf:3,label:"About",placeholder:"Say something about yourself...",rows:8,onChange:j,value:p.about,maxLength:250,error:-1!==f.findIndex(e=>"about"===e.field),errorMessage:null===(n=f.find(e=>"about"===e.field))||void 0===n?void 0:n.error})]})}),(0,C.jsx)("div",{className:M().profileInfoGroup,children:(0,C.jsx)("div",{className:M().profileInfoSection,children:O.map((e,r)=>{var o;return(0,C.jsx)("div",{children:(0,C.jsx)(L,{index:r,outOf:O.length,label:e.name,placeholder:e.placeholder,onChange:g(e.key),value:String(p[e.key]),maxLength:"linkWebsite"===e.key?null:50,error:-1!==f.findIndex(r=>r.field===e.key),errorMessage:null===(o=f.find(r=>r.field===e.key))||void 0===o?void 0:o.error})},e.key)})})})]}),a&&(0,C.jsx)(S.l,{variant:"fancy",color:"black"})]}),(0,C.jsxs)("div",{className:M().buttonsContainer,children:[(0,C.jsx)(D.z,{size:"xl",disabled:a,type:"submit",children:"Save"}),(0,C.jsx)(D.z,{size:"xl",color:"outline",noShadow:!0,className:"w-[136px] border-none",disabled:a,onClick:t,children:"Cancel"})]})]})})}),q=(0,s.memo)(function(e){let{userID:r,username:o,onSaved:n,onRequestClose:i}=e,a=(0,d.XW)(),{data:l,isInitialLoading:u}=(0,_.TY)(E.GR,{userID:r}),{mutate:m,isLoading:b}=(0,p.Uq)(E.zt),{0:h,1:I}=(0,s.useState)([]),x=e=>{m({userID:r,username:o,profileData:{displayName:e.displayName,username:e.username,about:e.about,usernameDiscord:e.usernameDiscord,usernameTwitter:e.usernameTwitter,usernameInstagram:e.usernameInstagram,usernameOpensea:e.usernameOpensea,usernameLinkedin:e.usernameLinkedin,usernameTiktok:e.usernameTiktok,linkWebsite:e.linkWebsite}},{onError:e=>{var r;let o=(0,f.n)(null===(r=e.response)||void 0===r?void 0:r.data),n=o.map(e=>e.fields?e.fields.map(e=>A(A({},e),{},{field:t()(e.field)})):(null==e?void 0:e.code)==="INVALID_PARAMETER"&&void 0===e.fields?[{field:"username",error:e.message}]:(null==e?void 0:e.code)==="DUPLICATE_USERNAME"?[{field:"username",error:"Username is already taken"}]:[]).flat();if(I(n),n.length>0)for(let e of n)v.error(e.error,5e3);else o.length>0&&v.error(o[0].message,5e3)},onSuccess:()=>{v.notify("Profile saved"),a({name:c.A.SaveProfile,type:c.s.Submission},{about:e.about,displayName:e.displayName,username:e.username,usernameDiscord:e.usernameDiscord,usernameInstagram:e.usernameInstagram,usernameLinkedin:e.usernameLinkedin,usernameOpensea:e.usernameOpensea,usernameTiktok:e.usernameTiktok,usernameTwitter:e.usernameTwitter,linkWebsite:e.linkWebsite}),null==n||n(e),i()}})};return(0,C.jsx)("div",{children:!u&&l?(0,C.jsx)(G,{profile:l,onSave:x,onCancel:i,isSaving:b,fieldErrors:h}):(0,C.jsx)(S.l,{variant:"fancy",color:"black"})})})},13531:function(e){e.exports={profilePicContainer:"form-item_profilePicContainer__7PZF1",form:"form-item_form__dq7h_",container:"form-item_container__MDaY0",inputContainer:"form-item_inputContainer___I8d2",profilePicAndEditContainer:"form-item_profilePicAndEditContainer__qU85a",avatarIconPlaceholder:"form-item_avatarIconPlaceholder__pPFyt",editIcon:"form-item_editIcon__KedM_",profileBody:"form-item_profileBody__yIrip",profileInfoGroup:"form-item_profileInfoGroup___5eRn",profileInfoSection:"form-item_profileInfoSection__JJYaG",profileInputLabel:"form-item_profileInputLabel__tgW2V",required:"form-item_required__iHxZa",profileInfoInput:"form-item_profileInfoInput___x_SG",fillHeight:"form-item_fillHeight__j2Ixe",aboutContainer:"form-item_aboutContainer__xGrY7",profileInfoRow:"form-item_profileInfoRow__4Kcr1",separator:"form-item_separator__aoHqy",displayName:"form-item_displayName__hnKeF",profileMetrics:"form-item_profileMetrics__3uxej",description:"form-item_description__McLid",aboutCharacterCountLabel:"form-item_aboutCharacterCountLabel__o0gil",buttonsContainer:"form-item_buttonsContainer__zAJY6",saveErrorMessage:"form-item_saveErrorMessage__uhoD8",formItem:"form-item_formItem__esGQf",formItemLabelContainer:"form-item_formItemLabelContainer__soY_C",formItemInput:"form-item_formItemInput__K4Yy4",topItem:"form-item_topItem__WzsSQ",bottomItem:"form-item_bottomItem__DBq_u",active:"form-item_active__MJ3SD",current:"form-item_current__WhCjf",error:"form-item_error__hOXY3",formItemLabel:"form-item_formItemLabel__Gy9iu",focusError:"form-item_focusError__GzWQl",disabled:"form-item_disabled__5_1NO",errorIcon:"form-item_errorIcon__Q6wHM"}},86358:function(e){e.exports={profilePicContainer:"user-profile-editor_profilePicContainer__OMmpw",form:"user-profile-editor_form__CBQLt",container:"user-profile-editor_container__wLRBL",inputContainer:"user-profile-editor_inputContainer__2RD9R",profilePicAndEditContainer:"user-profile-editor_profilePicAndEditContainer__x47bg",avatarIconPlaceholder:"user-profile-editor_avatarIconPlaceholder__l0TUE",editIcon:"user-profile-editor_editIcon__UGzEt",profileBody:"user-profile-editor_profileBody__iH4mK",profileInfoGroup:"user-profile-editor_profileInfoGroup__OdcHL",profileInfoSection:"user-profile-editor_profileInfoSection__KTDxM",profileInputLabel:"user-profile-editor_profileInputLabel__uArdR",required:"user-profile-editor_required__jjlAK",profileInfoInput:"user-profile-editor_profileInfoInput__uRgdC",fillHeight:"user-profile-editor_fillHeight__9gDCL",aboutContainer:"user-profile-editor_aboutContainer__fceQV",profileInfoRow:"user-profile-editor_profileInfoRow__8eZKS",separator:"user-profile-editor_separator__pMHew",displayName:"user-profile-editor_displayName__0uo_X",profileMetrics:"user-profile-editor_profileMetrics__9hHi_",description:"user-profile-editor_description__2PtNz",aboutCharacterCountLabel:"user-profile-editor_aboutCharacterCountLabel__lTnJI",buttonsContainer:"user-profile-editor_buttonsContainer__6uOFG",saveErrorMessage:"user-profile-editor_saveErrorMessage__jkLPD"}}}]);
//# sourceMappingURL=5818-cdaf26f9c0322f88.js.map