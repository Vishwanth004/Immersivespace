(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2e3],{54700:function(e,t,r){"use strict";r.d(t,{w:function(){return y}});var n=r(95235),s=r(2784),a=r(4611),c=r(10381),o=r(10667),i=r(39337),l=r(77451),p=r(38776),u=r(93168),d=r(34932),b=r(29652),m=r.n(b),f=r(52322);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let y=e=>{let t=(0,p.bp)(e=>e.state.sapi.spacesClient),r=(0,o.aT)(t,{type:a.U.Trending}),n=(0,p.bp)(e=>e.actions),b=(0,s.useCallback)((t,r)=>{n.setSpaceJoinContext({method:i.$t.UserSelected,spaceProperties:(0,l.UX)(t.space),discoveryMetadata:O(O({},r),{},{Source:e.source})})},[n,e.source]);return r.data?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{className:m().spacesGridTitle,children:"Our Recommendations"}),(0,f.jsx)(d.u,{spaces:r.data.spaces,componentId:c.C.RecommendedSpacesList,onSelect:b})]}):(0,f.jsx)(u.J,{})}},34932:function(e,t,r){"use strict";r.d(t,{u:function(){return T}});var n=r(95235),s=r(82269),a=r(2784),c=r(1366),o=r(13588),i=r(48002),l=r(13864),p=r(38776),u=r(57655),d=r(46611),b=r(61945),m=r(71594),f=r(54537),j=r(78025),O=r(70497),y=r(76920),h=r(10381),v=r(3349),g=r(52322);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let w=(0,a.lazy)(()=>r.e(7752).then(r.bind(r,35509)).then(e=>({default:e.RenameModalConent}))),P=e=>{let{onDismiss:t,name:r}=e;return(0,g.jsx)(v.u,{isOpen:!!r,darkOverlay:!0,onRequestClose:t,children:(0,g.jsx)(a.Suspense,{fallback:null,children:(0,g.jsx)(c.Op,{id:h.C.RenameSpaceModal,children:(0,g.jsx)(w,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))})})})},x=["componentId"],C=["enableFakePagination","spaces","spacesToFilter","containerClassName","showHoverPreview","onCheck","isSpaceChecked"];function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function T(e){let{componentId:t}=e,r=(0,s.Z)(e,x);return t?(0,g.jsx)(c.Op,{id:t,children:(0,g.jsx)(D,L({},r))}):(0,g.jsx)(D,L({},r))}let D=(0,a.memo)(function(e){let{enableFakePagination:t,spaces:r,spacesToFilter:n,containerClassName:c,showHoverPreview:h,onCheck:v,isSpaceChecked:S}=e,w=(0,s.Z)(e,C),{isAuthenticated:x}=(0,p.F_)(),{mutate:k}=(0,i.U_)(f.zt),{mutate:T}=(0,i.UY)(f.zt),D=(0,p.bp)(e=>e.actions),E=(0,a.useCallback)(()=>D.openModal({type:u.c3.Login,payload:{titleCta:"Sign in to continue"}}),[D]),{0:F,1:N}=(0,a.useState)(null),{0:U,1:_}=(0,a.useState)(null),[R,z]=(0,o.k)(!1),Z=(0,a.useCallback)(()=>N(null),[]),Y=(0,a.useCallback)(e=>{e!==F.name&&k({name:e,roomId:F.id},{onError:()=>m.error("Error updating the space's name, try again later"),onSuccess:()=>void m.notify("Your space has been renamed.")}),N(null)},[k,F]),I=(0,a.useCallback)(()=>{U&&((0,l.py)(),T({roomId:U.id},{onError:()=>m.error("Error deleting room, try again later"),onSuccess:()=>void m.notify(`${U.name} has been deleted.`)}),z.setFalse())},[T,z,U]),M=(0,a.useCallback)(e=>{_(e),z.setTrue()},[z]),J=(0,a.useCallback)(e=>{N(e)},[]),A=(null==r?void 0:r.length)||0,{0:G,1:X}=(0,a.useState)(12),Q=(0,a.useCallback)(()=>X(G+12),[G]),$=(0,a.useMemo)(()=>{let e=n?r.filter(e=>!n.includes(e.space.id)):r;return x||!t?e:e.slice(0,G)},[t,x,r,n,G]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y.z,{classNameOverride:c,children:null==$?void 0:$.map((t,r)=>(0,g.jsx)(O.C,L({spaceData:t,handleLogin:E,handleDeleteSpace:M,handleRenameSpace:J,onSelect:e.onSelect,spaceListIndex:r,showHoverPreview:h,onCheck:v,isChecked:null==S?void 0:S(t)},w),t.space.id))}),G<A&&!x&&t&&(0,g.jsx)("div",{className:"mt-8 flex justify-center pb-12",children:(0,g.jsx)(j.z,{size:"lg",onClick:Q,children:"More Spaces"})}),(0,g.jsx)(P,{onConfirm:Y,onDeny:Z,onDismiss:Z,name:null==F?void 0:F.name}),(0,g.jsx)(b.s,{autoFocusConfirm:!0,isOpen:R,onAfterClose:(0,a.useCallback)(()=>_(null),[]),onConfirm:I,onDeny:z.setFalse,onDismiss:z.setFalse,title:`Are you sure you want to delete ${null==U?void 0:U.name}?`,confirmText:"Yes",denyText:"Cancel",subtitle:(0,g.jsx)(d.T,{})})]})})},76649:function(e,t,r){"use strict";let n;r.d(t,{ZG:function(){return u},fZ:function(){return p},nU:function(){return l},sF:function(){return n},w7:function(){return o},zH:function(){return d}});var s,a=r(4611),c=r(10381);(s=n||(n={})).Trending="trending",s.Popular="popular",s.Live="live",s.Newest="newest",s.Recent="recent",s.YourSpaces="mine",s.Shared="shared",s.Loved="loved",s.Team="team",n.Trending;let o=Object.values(n),i=new Set(o),l=(e,t)=>i.has(e)?e:t,p={[n.Trending]:a.U.Trending,[n.Popular]:a.U.Popular,[n.Live]:a.U.LiveNow,[n.Newest]:a.U.Newest,[n.Recent]:a.U.Recent,[n.YourSpaces]:a.U.YourSpaces,[n.Shared]:a.U.Admin,[n.Loved]:a.U.Loved,[n.Team]:a.U.Team},u={[n.Trending]:c.C.TrendingSpacesList,[n.Popular]:c.C.PopularSpacesList,[n.Live]:c.C.LiveSpacesList,[n.Newest]:c.C.NewestSpacesList,[n.Recent]:c.C.RecentSpacesList,[n.YourSpaces]:c.C.PersonalSpacesList,[n.Shared]:c.C.SharedSpacesList,[n.Loved]:c.C.LovedSpacesList,[n.Team]:c.C.TeamSpacesList},d={[n.Trending]:"Trending",[n.Popular]:"Popular",[n.Live]:"Live Now",[n.Newest]:"Newest",[n.Recent]:"Recent",[n.YourSpaces]:"Your Spaces",[n.Shared]:"",[n.Loved]:"",[n.Team]:""}},72e3:function(e,t,r){"use strict";r.d(t,{Q:function(){return R}});var n=r(95235),s=r(82269),a=r(2784),c=r(1366),o=r(10381),i=r(96441),l=r(77451),p=r(38776),u=r(57895),d=r(93168),b=r(54700),m=r(34932),f=r(76649),j=r(17905),O=r(57655),y=r(69529),h=r(78025),v=r(52322);let g=e=>{let{title:t,description:r}=e,n=(0,c.XW)(),s=(0,p.bp)(e=>e.actions),o=(0,a.useCallback)(()=>s.openModal({type:O.c3.Login,payload:{titleCta:"Sign in to continue"}}),[s]),i=(0,a.useCallback)(()=>{n({name:j.A.UpsellSignUpCta,type:j.s.Click}),o()},[o,n]);return(0,v.jsxs)("div",{className:"grid h-full min-h-[60vh] content-center justify-items-center gap-4 self-center text-center",children:[(0,v.jsx)(y.X,{as:"h3",size:"h3",weight:"black",children:t}),(0,v.jsx)("p",{className:"text-base",children:r}),(0,v.jsx)(h.z,{className:"mt-3 px-14",size:"xl",onClick:i,children:"Login"})]})},S=["title","isError","spaces","componentId"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let P=e=>{let{title:t,isError:r,spaces:a,componentId:c}=e,o=(0,s.Z)(e,S);return r?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y.X,{as:"h2",size:"h2",weight:"black",className:"mb-4 mt-6",children:t}),(0,v.jsx)(u.p,{})]}):a&&a.length>0?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y.X,{as:"h2",size:"h2",weight:"black",className:"mb-4 mt-6",children:t}),(0,v.jsx)(m.u,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({spaces:a,componentId:c},o))]}):null};var x=r(4611),C=r(10667),k=r(54537);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var D=r(30281),E=r.n(D);let F=["selectedTab","showTitle"];function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let _={[f.sF.Recent]:{title:"Keep track of the spaces you've visited",description:"Login or create an account to see spaces you've visited recently."},[f.sF.YourSpaces]:{title:"Create your virtual space for free",description:"Login or create an account to build your own space in the metaverse."}},R=(0,a.memo)(function(e){var t,r,n;let{selectedTab:j,showTitle:O}=e,y=(0,s.Z)(e,F),h=(0,a.useMemo)(()=>f.fZ[j],[j]),S=f.ZG[j],{isAuthenticated:w,isAuthenticatingOrLoggingIn:L}=(0,p.F_)(),{data:D}=(0,i.UE)(k.zt,w),{getSpacesQuery:N,getAdminSpacesQuery:R,getTeamSpacesQuery:z,currentQueryRequiresAuth:Z,isLoadingLoved:Y,isPartOfTeam:I,getSpacesQueryData:M}=function(e){var t;let{queryType:r}=e,n=(0,p.bp)(e=>e.state.sapi.spacesClient),{isAuthenticated:s,isAuthenticatingOrLoggingIn:c}=(0,p.F_)(),o=(0,a.useMemo)(()=>x.P0.includes(r),[r]),{data:l}=(0,i.UE)(k.zt,s),u=(0,a.useMemo)(()=>!!(null==l?void 0:l.myOrganization.id),[l]),d=(0,C.aT)(n,{type:r},{staleTime:9e4,enabled:!o||s}),b=(0,a.useMemo)(()=>{var e,t;return null!==(e=null===(t=d.data)||void 0===t?void 0:t.spaces.map(e=>e.space.id))&&void 0!==e?e:[]},[null===(t=d.data)||void 0===t?void 0:t.spaces]),m=(0,C.c0)(n,{spaceIds:b},{enabled:s&&!!(d.data&&x.VQ.includes(r)),staleTime:6e4}),f=(0,a.useMemo)(()=>{if(!d.data)return;if(!m.data)return d.data;let e=d.data.spaces.map(e=>{var t;let r=e.space.id,n=null!==(t=m.data.spacesLoved[r])&&void 0!==t?t:e.space.liked;return T(T({},e),{},{space:T(T({},e.space),{},{liked:n})})});return{spaces:e,type:d.data.type,title:d.data.title}},[d.data,m.data]),j=(0,a.useMemo)(()=>!!x.VQ.includes(r)&&!m.data&&!m.error&&(!!c||!!s),[m.data,m.error,s,c,r]),O=(0,C.aT)(n,{type:x.U.Admin},{staleTime:9e4,enabled:r===x.U.YourSpaces&&s}),y=(0,C.aT)(n,{type:x.U.Team},{staleTime:9e4,enabled:r===x.U.YourSpaces&&u});return{getSpacesQuery:d,getAdminSpacesQuery:O,getTeamSpacesQuery:y,currentQueryRequiresAuth:o,isLoadingLoved:j,isPartOfTeam:u,getSpacesQueryData:f}}({queryType:h});if(Z){if(L)return(0,v.jsx)(d.J,{});if(!w)return(0,v.jsx)(c.Op,{id:o.C.UpsellSignup,properties:{selectedTab:j},children:(0,v.jsx)(g,U({},_[j]))});if((null==M?void 0:null===(t=M.spaces)||void 0===t?void 0:t.length)===0)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:E().empty,children:(0,v.jsx)("div",{children:"You haven't checked out any spaces yet!"})}),(0,v.jsx)(b.w,{source:l.u.NoRecentsPlaceholderRecs})]})}return M?j!==f.sF.YourSpaces?(0,v.jsxs)("div",{className:E().spacesFeedSection,children:[O&&(0,v.jsx)("h2",{className:E().spacesFeedSectionTitle,children:M.title}),(0,v.jsx)(m.u,U({spaces:M.spaces,isLoadingLoved:Y,componentId:S},y))]}):N.isLoading||z.isInitialLoading||R.isLoading?(0,v.jsx)(d.J,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m.u,U({spaces:M.spaces,componentId:S},y)),I&&(0,v.jsx)(P,U({title:`${null==D?void 0:D.myOrganization.name} Spaces`||"Team Spaces",isError:z.isError,spaces:null===(r=z.data)||void 0===r?void 0:r.spaces,componentId:o.C.TeamSpacesList},y)),(0,v.jsx)(P,U({title:"Shared Spaces",isError:R.isError,spaces:null===(n=R.data)||void 0===n?void 0:n.spaces,componentId:o.C.SharedSpacesList},y))]}):N.error?(0,v.jsx)(u.p,{className:E().errorContainer}):(0,v.jsx)(d.J,{})})},29652:function(e){e.exports={spacesGridTitle:"recommended-spaces_spacesGridTitle__4jirf"}},30281:function(e){e.exports={errorContainer:"spaces-list_errorContainer__ruJfZ",empty:"spaces-list_empty__SRkD8",spacesFeedSection:"spaces-list_spacesFeedSection__aL7R_",spacesFeedSectionTitle:"spaces-list_spacesFeedSectionTitle__QmzWq"}}}]);
//# sourceMappingURL=2000-3113c24d50130f87.js.map